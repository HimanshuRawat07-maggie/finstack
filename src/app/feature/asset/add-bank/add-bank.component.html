<div class="card">
    <div class="title py-2 ms-3">
        {{status}} Bank
    </div>
    <hr class="my-0">
    <form #BankForm="ngForm" (ngSubmit)="onSubmit()">
        <div class="row mt-4 px-3 g-0">
            <div class="form-group col-6 px-1">
                <label for="input1" class="ms-2 position-absolute" style="margin-top: -0.60rem !important">
                    <span class="h6 small bg-white text-muted px-1">Account Display Name</span>
                </label>
                <input type="text" class="form-control" [(ngModel)]="data.accountDisplayName" name="name"
                    #name="ngModel" required
                    [ngClass]="{'is-invalid':name.touched && name.errors && name.errors['required']}">
                <p *ngIf="name.touched && name.errors && name.errors['required']" class="validation-error ">
                    Name is required
                </p>
            </div>
            <div class="form-group col-6 px-1">
                <label for="input1" class="ms-2 position-absolute" style="margin-top: -0.60rem !important">
                    <span class="h6 small bg-white text-muted px-1">Bank Name</span>
                </label>
                <input type="text" class="form-control" [(ngModel)]="data.bankName" name="bankName" #bankName="ngModel"
                    required [ngClass]="{'is-invalid':name.touched && name.errors && name.errors['required']}">
                <p *ngIf="bankName.touched && bankName.errors && bankName.errors['required']" class="validation-error ">
                    Bank Name is required
                </p>
            </div>
        </div>
        <div class="row mt-4 px-3 g-0">
            <div class="form-group col-6 px-1 position-relative">
                <label for="input1" class="ms-2 position-absolute" style="margin-top: -0.60rem !important">
                    <span class="h6 small bg-white text-muted px-1">As of Date</span>
                </label>
                <span class="date-preview" onclick="document.getElementById('bank-as-of-date').showPicker()">
                    {{data.asOfDate| date:'dd-MM-yyyy'}}
                </span>
                <input id="bank-as-of-date" type="date" class="form-control" [(ngModel)]="data.asOfDate" name="date"
                    [min]="minDate" #date="ngModel">
            </div>
            <div class="form-group col-6 px-1">
                <label for="input1" class="ms-2 position-absolute" style="margin-top: -0.60rem !important">
                    <span class="h6 small bg-white text-muted px-1">Opening Balance</span>
                </label>
                <input type="number" class="form-control" [(ngModel)]="data.openingBalance" name="openingBalance"
                    #openingBalance="ngModel">
            </div>
        </div>
        <div class="row mt-4 px-3 g-0">
            <div class="form-group col-6 px-1">
                <label for="input1" class="ms-2 position-absolute" style="margin-top: -0.60rem !important">
                    <span class="h6 small bg-white text-muted px-1">Account Name</span>
                </label>
                <input type="text" class="form-control" [(ngModel)]="data.accountName" name="holderName"
                    #holderName="ngModel">
            </div>
            <div class="form-group col-6 px-1">
                <label for="input1" class="ms-2 position-absolute" style="margin-top: -0.60rem !important">
                    <span class="h6 small bg-white text-muted px-1">Account Number</span>
                </label>
                <input type="text" class="form-control" [(ngModel)]="data.accountNumber" name="accountNumber"
                    #accNumber="ngModel">
            </div>
        </div>
        <div class="row mt-4 px-3 g-0">
            <div class="form-group col-6 px-1">
                <label for="input1" class="ms-2 position-absolute" style="margin-top: -0.60rem !important">
                    <span class="h6 small bg-white text-muted px-1">IFSC Code</span>
                </label>
                <input type="text" class="form-control" [(ngModel)]="data.ifscCode" name="ifscCode" #ifscCode="ngModel">
            </div>
            <div class="form-group col-6 px-1">
                <label for="input1" class="ms-2 position-absolute" style="margin-top: -0.60rem !important">
                    <span class="h6 small bg-white text-muted px-1">Branch Name</span>
                </label>
                <input type="text" class="form-control" [(ngModel)]="data.branch" name="branch" #branch="ngModel">
            </div>
        </div>
        <div class="row mt-4 px-3 g-0">
            <div class="col-6 px-1 d-flex align-items-center">
                <label class="h6 small bg-white text-muted px-1 pointer" for="qrcode" *ngIf="qrCode==null">Add
                    QR</label>
                <input name="qr" type="file" id="qrcode" class="pointer ms-3" [(ngModel)]="qrCode" accept="image/*"
                    (change)="onQrChange($event)" [hidden]="qrCode!=null">
                <div *ngIf="qrCode!=null" style="position: relative;">
                    <div class="red-circle pointer" style="position: absolute;right: 0;" (click)="removeQrCode()">
                        <i class="fa-solid fa-x" style="color: white;position:absolute;left: 3.5px;top: 2px;"></i>
                    </div>
                    <img class="border" [src]="qrCode" alt="" width="200px">
                </div>
            </div>
            <div class="col-6 px-1 d-flex align-items-center">
                <label class="h6 small bg-white text-muted px-1 pointer" for="default">Set Default Payment Type</label>
                <input name="default" type="checkbox" id="default" class="pointer ms-3" [(ngModel)]="data.isDefault">
            </div>
        </div>
    </form>
    <hr class="mb-0">
    <div class="d-flex justify-content-end px-4 mt-3">
        <button class="btn btn-outline-primary mx-2" (click)="close()">Cancel</button>
        <button type="submit" class="btn btn-primary" (click)="onSubmit()">{{details.id==null?'Save':'Update'}}</button>
    </div>
</div>